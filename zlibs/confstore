#!/usr/bin/env zsh


vars+=(address interface hostname wan lan firewall)
vars+=(dowse_uid dowse_gid dowse_net netmask dowse_guests)

conf-load() {
    fn conf-load

    # conf/settings override all
    [[ -r $dowserc ]] && {
        act "loading configuration from $dowserc"
        source $dowserc

        # cover defaults
        dns=${dns:-$wan}
        dowse_uid=${dowse_uid:-privoxy}
        dowse_gid=${dowse_gid:-privoxy}
        dowse_net=${dowse_net:-10.0.0.0/24}
        netmask=${netmask:-255.255.255.0}
        dowse_guests=${dowse_guests:-10.0.0.101,10.0.0.199,48h}
    }
}
